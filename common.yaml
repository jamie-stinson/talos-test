machine:
  type: controlplane
  network:
    hostname: controlplane-1
    nameservers:
      - 10.0.0.1
    interfaces:
      - interface: eth0 # The interface name.
        # Assigns static IP addresses to the interface.
        addresses:
          - 10.0.0.24/24
        # A list of routes associated with the interface.
        routes:
          - network: 0.0.0.0/0 # The route's network (destination).
            gateway: 10.0.0.1 # The route's gateway (if empty, creates link scope route).
            metric: 1024 # The optional metric for the route.
        mtu: 1500 # The interface's MTU.
        # wireguard:
        #   privateKey: <privatekey file contents>
        #   listenPort: 51820
        #   peers:
        #     allowedIPs:
        #       - 192.168.88.0/24
        #     endpoint: 209.202.254.14.8172
        #     publicKey: ABCDEF...
  time:
    servers:
      - time.cloudflare.com
  # systemDiskEncryption:
  #     # Ephemeral partition encryption.
  #     ephemeral:
  #         provider: luks2 # Encryption provider to use for the encryption.
  #         # Defines the encryption keys generation and storage method.
  #         keys:
  #             - # Deterministically generated key from the node UUID and PartitionLabel.
  #               nodeID: {}
  #               slot: 0 # Key slot number for LUKS2 encryption.
cluster:
    controlPlane:
        endpoint: https://10.0.0.24:6443
    clusterName: talos.local
    network:
        # The CNI used.
        cni:
            name: flannel # Name of CNI to use.
        dnsDomain: cluster.local # The domain used by Kubernetes DNS.
        # The pod subnet CIDR.
        podSubnets:
            - 10.244.0.0/16
        # The service subnet CIDR.
        serviceSubnets:
            - 10.96.0.0/12
    inlineManifests:
        - name: namespace-platform-cicd
          contents: |-
            apiVersion: v1
            kind: Namespace
            metadata:
            	name: platform-cicd
        - name: namespace-platform-security
          contents: |-
            apiVersion: v1
            kind: Namespace
            metadata:
            	name: platform-security
        - name: namespace-platform-ingress
          contents: |-
            apiVersion: v1
            kind: Namespace
            metadata:
            	name: platform-ingress

  # registries:
  #     mirrors:
  #       docker.io:
  #         endpoints:
  #         - http://10.5.0.1:6000/
  #       gcr.io:
  #         endpoints:
  #         - http://10.5.0.1:6000/
  #       ghcr.io:
  #         endpoints:
  #         - http://10.5.0.1:6000/
  #       registry.k8s.io:
  #         endpoints:
  #         - http://10.5.0.1:6000/
